[< 上一页： 3.2. 连续近似方法](chapter3/3.2.continous_approx.md)  &nbsp; |  &nbsp;  [下一页： 3.4. Lagrangian松弛技术](chapter3/3.4.lagrangian_relax.md)

# 3.3. 离散选址模型
上一节介绍了将研究空间的离散的需求连续化来简化建模，但得到的结果不够准确。在这一节我们介绍直接建立混合整数规划模型来刻画问题。如下图所示的平面上有四个用户需求点（红点）以及四个候选点（绿色空心），假设一个牛奶运输企业该如何选择来建立物流配送中心呢？

<img src="../book/img/3.3.1.discrete_location.svg" width="600"><br>
如果按照当前需求量来看的话，选择节点7会最大的节约运输成本；如果从未来发展的角度，选择中心节点6会最安全；如果预算没有那么紧张，那么尽可能的多选需求量大的节点附近的节点将会带来最大的服务质量。因此从不同的角度来看会有不同的选择方式，下面将介绍三个常用的选址模型。
# 3.3.1. 覆盖问题
在选址问题中，向客户提供的服务（由所定位的设施提供）取决于客户与其被分配的设施之间的距离。通常情况下，客户被分配到最近的设施。如果客户与设施的距离在某一给定距离以内，则认为服务可以覆盖（Cover）需求；如果距离超过某个临界值，则认为服务不能覆盖需求。这里我们讨论一种最简单的选址问题模型， **集覆盖**（Set Covering）模型，它的目标是找到一个最小的设施集合，使得所有的需求节点都被至少一个设施覆盖。

**符号说明**
- $ N $：站点集合，$ i \in N $ 表示站点 $ i $
- $ M $：需求点集合，$ j \in M $ 表示需求点 $ j $
- $ c_i $：站点 $ i $ 的建设费用
- $ a_{ij} $：是否能够覆盖需求点（需提前计算），定义如下：
  - $ a_{ij} = 1 $，如果站点 $ i $ 可以覆盖需求点 $ j $
  - $ a_{ij} = 0 $，如果站点 $ i $ 不能覆盖需求点 $ j $
- **$ x_i \in \{0, 1\} $：决策变量**，表示是否在站点 $ i $ 建设（1 表示建设，0 表示不建设）

**集覆盖模型**
$$
\begin{align}
\min &\sum_{i \in N} c_i x_i \tag{3.3.1}\\
&\sum_{i \in N} a_{ij} x_i \geq 1,  &\forall j \in M \tag{3.3.2}\\
&x_i \in \{0, 1\}  &\forall i \in N \tag{3.3.3}
\end{align}
$$

该模型的目标函数3.3.1是最小化建设费用，约束3.3.2确保每个需求点至少被一个站点覆盖。根据这个模型我们可以构建如下算例，试着调整服务范围参数分别为100、70、60并对结果进行比较。
<iframe src="../#/H4sIAAAAAAAACu1Yb1PiRhz2NZ9i5/oiOBecLIjITbkv4thOSFaNA4Qm0WvLOGM9W8HzDntXr6fgv/aqtnMitk75p36Ylt1wr/wKnU1ICCheQWynnTxvQsKyzz6/32+f/RFBFtHQPYPjOG5sbJReYSjIOa/0I+cPhobg6Fgo5A+OBiAcgv4g9NPf3ffCKOZUjVeGOE7jlSgfi82qXcZ96Pv/KFQBJdCIijSUmPemBD6ufZFEEUZWtBmZWRgGvcLnaxQu9YsCzlfJ5gn5dhk/zZJ81eOJyQIfA8KcqslxpKggAlKpcJgNBNkAt8CC1Ng4C0fHWWjc+Dl6F2aD3MJCVyJc2KpXMrjwA0mX9KXK1Xkab6+TvZU/F796n18kp0tX5xmLlk+IkshryOSlM4dZv0EFA6NsGFq8AY6FXLh5ByFkYSjAwmBrFTbt4ub7xUz9MqfXNjvIca3aKFw2ziqUf0pWgAQiALLgo5Z4Ue45sDY/KdXw6l69nKmXf7HF43TRjLiHDjKTyouiHJ31PkjKUkJTH7AgNY8UTRKQGknZS5mQJifgJAvaHvgnWUAjoEpfogjkWCDIMVmJMAoSaU0YHGZgY3wUxQCIdFAajymjhj7XIpqsaoqUmPZKw805g51TtoThahZnS2RvRT++NInoXI9UpCVl1dux7ofBm1Z+e9X6fPphDa8eNSlQQmxPUqtU+s6SrSWXo0lqL5WeU2UvyM5V25NuyYrG5hCzMDzIZDWn/NvJ6li5ka3ra78tXTcky97ScVvJNNKoEkbg40jhmR5dy+cjuz+RzGWnZQl83FIC/eMsoMYAuJGx3k3R4jGt0WaoXzynTvlyTT//mXx36THFKCghIsXbL0u7sPKvZPdVs9yagVORMi8J6FOFT0wjWvQcd1dB+ed4db+x9hTnzqzsUJ/tZt09kuB0Dteqeq5A9lbwygXZKOLsEtkoko2iXltuEvIDJ+RxuWyzXJ2nyZsTvH6A80dOudcsfiDugU8q9eoLklkk+Yy+tWwaiL5UMbaYMCFNgkjHRgpM9ktlhLJertqnlkHCmyQDiagdUH1rWX/3rl5d02tnBguN3OyADsfrUTPORo/1vVkmokQ7gDivzYyonyma95pH+VrHySy9H/7EDx4Cb6dttQ/z02HD5obY1wvfN0rb+kHNppamDN6PIx17T5tBiV4D+Za8Pm47SgyVJuGNFYq/+RpXfjc3Ku9xTkdzPDFL0wz7CbgBe0IUU1GX2bnWoITosa4OK49LSSspCfQkLiX7Nj+r1EiphNfTZOOMbBQbh8s4/ZIc7eOdZ564lHzEi6IiP/EKLGDiUqLX06KT0Iys0508gyxr4Cztk2y9vGi3fY6TPTqQvWpbbfWAbO/qv9VaJguau3VQPmdI6mJwFFHTf6wiuoOkZn4MMXbx0aujFKIsYB5HGBbAPovB6ofMyOF0sVlu99Ncdg+dQxMjQIYFTLTvCrf/yWXfvF/J6qc1vPOsXq5y0HxgaKN8qhybR4NoV8w4ni41Dn9shu+fPlqlKRrBCUZgRkakSfAYcD17tJPqYIns5E1Beu0V2cnjt4f16gvu6jxdL1ch7R2s0c4G/fb+nPnj9T5jdfu3tOb0L0f52NGagw+15z005x1tOXB4+v02sf/265L/HZK8eu9vtG5//2eg8/2fP+S+/3PhwoULFy5cuHDhwoULFy5cuHDh4s74C2V1FEEAKAAA" width="100%" height="600"></iframe>

如果在预算固定的情况下建设设施使用集覆盖模型并不能得到预想的结果，对于这种情况，这里介绍**最大覆盖**（Maximum Covering）模型，它主要用于在有限的资源条件下，以尽可能多地覆盖给定的需求点，从而使总的覆盖效益达到最大化。它在选址、服务规划和资源配置等领域都有广泛应用。

**补充符号**
- $ b_j $：需求点 $ j $ 的需求量
- $ P $：最多可建设的站点数量
- **$ y_j \in \{0, 1\} $：决策变量**，表示需求点 $ j $ 是否被覆盖（1 表示被覆盖，0 表示不被覆盖）

**最大覆盖模型**
$$
\begin{align}
\max &\sum_{j \in M} b_j y_j \tag{3.3.4}\\
&\sum_{i \in N} x_i \leq P \tag{3.3.5}\\
&\sum_{i \in N} a_{ij} x_i \geq y_j, &\forall j \in M \tag{3.3.6}\\
&x_i \in \{0, 1\}, &\forall i \in N \tag{3.3.7}\\
&y_j \in \{0, 1\} &\forall j \in M \tag{3.3.8}\\
\end{align}
$$

该模型的目标函数3.3.4是最大化被覆盖的需求量，约束3.3.5限制了建设的站点数量不超过 $ P $，约束3.3.6表示需求点如果被覆盖，必须至少有一个站点覆盖它。


# 3.3.2. 中心问题

# 3.3.3. 中位问题

# 练习

[< 上一页： 3.2. 连续近似方法](chapter3/3.2.continous_approx.md)  &nbsp; |  &nbsp;  [下一页： 3.4. Lagrangian松弛技术](chapter3/3.4.lagrangian_relax.md)
