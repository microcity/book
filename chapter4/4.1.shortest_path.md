[< 上一页： 4. 运输路径规划](chapter4/4.route_planning.md)  &nbsp; |  &nbsp;  [下一页： 4.2. 标号法及对偶原理 >](chapter4/4.2.labelling_algorithm.md)

# 4.1. 最短路径问题
本节主要解决在物流网络中从起点到终点如何找到一条成本（时间/距离）最低的路径。这个问题在其他领域中也经常遇到，有多种不同的求解方法。我们这里给出最短路径问题的数学模型，并通过示例演示如何使用MicroCity求解。

## 4.1.1. 有向图示例
以下是一个简单的有向图示意图，展示了最短路径问题的一个例子。图中节点表示不同的地点，边上的数字表示运输成本。

<img src="../book/img/4.1.1.shortestpath.svg" width="600"><br>
如果以节点1为起点，节点4为终点的话，最短路径为1-3-4，运输总成本为3。

## 4.1.2. 数学模型
最短路径问题的数学模型可以通过整数规划或线性规划来表述。以下是基于*线性规划*的模型描述。
**符号说明**
- $ G = (V, E) $：有向图，$ V $ 为节点集合，$ E $ 为边集合
- $ c_{ij} $：从节点 $ i $ 到节点 $ j $ 的边 $ (i, j) $ 的权重（运输成本），$ (i,j) \in E $
- $ b_i $: 节点 $ i $ 的供给/需求，$ i \in V $
- $ s $：起点
- $ t $：终点
- **$ x_{ij} $：决策变量**，边 $ (i, j) $ 上的流量，$ (i,j) \in E $

**线性规划模型**
$$
\begin{align}
\min \quad &\sum_{(i,j) \in E} c_{ij} f_{ij} \tag{4.1.1}\\
s.t. \quad &\sum_{j: (i,j) \in E} f_{ij} - \sum_{j: (j,i) \in E} f_{ji} = b_i, &\forall i \in N \tag{4.1.2}\\
&f_{ij} \geq 0, &\forall (i,j) \in E \tag{4.1.3}
b_i =
\begin{cases}
1, & \text{if } i = s; \\
-1, & \text{if } i = t; \\
0, & \text{otherwise.}
\end{cases}
\end{align}
$$



[< 上一页： 4. 运输路径规划](chapter4/4.route_planning.md)  &nbsp; |  &nbsp;  [下一页： 4.2. 标号法及对偶原理 >](chapter4/4.2.labelling_algorithm.md)
