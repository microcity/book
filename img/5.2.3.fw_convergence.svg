<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="500" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="500" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">
    Frank-Wolfe算法收敛过程
  </text>
  
  <!-- Left plot: Objective function value -->
  <g id="objective_plot">
    <text x="200" y="70" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">
      目标函数值收敛
    </text>
    
    <!-- Axes -->
    <line x1="80" y1="220" x2="320" y2="220" stroke="#333" stroke-width="2"/>
    <line x1="80" y1="220" x2="80" y2="90" stroke="#333" stroke-width="2"/>
    
    <!-- Arrow heads -->
    <polygon points="320,220 310,215 310,225" fill="#333"/>
    <polygon points="80,90 75,100 85,100" fill="#333"/>
    
    <!-- X-axis label -->
    <text x="200" y="245" text-anchor="middle" font-size="12" fill="#333">迭代次数</text>
    
    <!-- Y-axis label -->
    <text x="35" y="155" text-anchor="middle" font-size="12" fill="#333" transform="rotate(-90, 35, 155)">目标函数值</text>
    
    <!-- X-axis ticks -->
    <g font-size="10" fill="#666">
      <line x1="80" y1="220" x2="80" y2="225" stroke="#666"/>
      <text x="80" y="238" text-anchor="middle">0</text>
      
      <line x1="128" y1="220" x2="128" y2="225" stroke="#666"/>
      <text x="128" y="238" text-anchor="middle">10</text>
      
      <line x1="176" y1="220" x2="176" y2="225" stroke="#666"/>
      <text x="176" y="238" text-anchor="middle">20</text>
      
      <line x1="224" y1="220" x2="224" y2="225" stroke="#666"/>
      <text x="224" y="238" text-anchor="middle">30</text>
      
      <line x1="272" y1="220" x2="272" y2="225" stroke="#666"/>
      <text x="272" y="238" text-anchor="middle">40</text>
      
      <line x1="320" y1="220" x2="320" y2="225" stroke="#666"/>
      <text x="320" y="238" text-anchor="middle">50</text>
    </g>
    
    <!-- Y-axis ticks -->
    <g font-size="10" fill="#666">
      <line x1="75" y1="220" x2="80" y2="220" stroke="#666"/>
      <text x="70" y="224" text-anchor="end">1000</text>
      
      <line x1="75" y1="190" x2="80" y2="190" stroke="#666"/>
      <text x="70" y="194" text-anchor="end">1200</text>
      
      <line x1="75" y1="160" x2="80" y2="160" stroke="#666"/>
      <text x="70" y="164" text-anchor="end">1400</text>
      
      <line x1="75" y1="130" x2="80" y2="130" stroke="#666"/>
      <text x="70" y="134" text-anchor="end">1600</text>
      
      <line x1="75" y1="100" x2="80" y2="100" stroke="#666"/>
      <text x="70" y="104" text-anchor="end">1800</text>
    </g>
    
    <!-- Convergence curve -->
    <path d="M 80,100 
             Q 90,100 100,102
             Q 120,108 140,120
             Q 160,140 180,160
             Q 200,180 220,195
             Q 240,205 260,210
             Q 280,215 300,217
             Q 310,218 320,219" 
          stroke="#e74c3c" stroke-width="3" fill="none"/>
    
    <!-- Optimal value line -->
    <line x1="80" y1="220" x2="320" y2="220" stroke="#27ae60" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="250" y="235" font-size="10" fill="#27ae60">最优值</text>
    
    <!-- Data points -->
    <circle cx="80" cy="100" r="3" fill="#e74c3c"/>
    <circle cx="100" cy="102" r="3" fill="#e74c3c"/>
    <circle cx="140" cy="120" r="3" fill="#e74c3c"/>
    <circle cx="180" cy="160" r="3" fill="#e74c3c"/>
    <circle cx="220" cy="195" r="3" fill="#e74c3c"/>
    <circle cx="260" cy="210" r="3" fill="#e74c3c"/>
    <circle cx="300" cy="217" r="3" fill="#e74c3c"/>
    <circle cx="320" cy="219" r="3" fill="#e74c3c"/>
  </g>
  
  <!-- Right plot: Relative gap -->
  <g id="gap_plot" transform="translate(400, 0)">
    <text x="200" y="70" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">
      相对间隙收敛
    </text>
    
    <!-- Axes -->
    <line x1="80" y1="220" x2="320" y2="220" stroke="#333" stroke-width="2"/>
    <line x1="80" y1="220" x2="80" y2="90" stroke="#333" stroke-width="2"/>
    
    <!-- Arrow heads -->
    <polygon points="320,220 310,215 310,225" fill="#333"/>
    <polygon points="80,90 75,100 85,100" fill="#333"/>
    
    <!-- X-axis label -->
    <text x="200" y="245" text-anchor="middle" font-size="12" fill="#333">迭代次数</text>
    
    <!-- Y-axis label -->
    <text x="35" y="155" text-anchor="middle" font-size="12" fill="#333" transform="rotate(-90, 35, 155)">相对间隙 (%)</text>
    
    <!-- X-axis ticks -->
    <g font-size="10" fill="#666">
      <line x1="80" y1="220" x2="80" y2="225" stroke="#666"/>
      <text x="80" y="238" text-anchor="middle">0</text>
      
      <line x1="128" y1="220" x2="128" y2="225" stroke="#666"/>
      <text x="128" y="238" text-anchor="middle">10</text>
      
      <line x1="176" y1="220" x2="176" y2="225" stroke="#666"/>
      <text x="176" y="238" text-anchor="middle">20</text>
      
      <line x1="224" y1="220" x2="224" y2="225" stroke="#666"/>
      <text x="224" y="238" text-anchor="middle">30</text>
      
      <line x1="272" y1="220" x2="272" y2="225" stroke="#666"/>
      <text x="272" y="238" text-anchor="middle">40</text>
      
      <line x1="320" y1="220" x2="320" y2="225" stroke="#666"/>
      <text x="320" y="238" text-anchor="middle">50</text>
    </g>
    
    <!-- Y-axis ticks (logarithmic scale) -->
    <g font-size="10" fill="#666">
      <line x1="75" y1="220" x2="80" y2="220" stroke="#666"/>
      <text x="70" y="224" text-anchor="end">0.01</text>
      
      <line x1="75" y1="190" x2="80" y2="190" stroke="#666"/>
      <text x="70" y="194" text-anchor="end">0.1</text>
      
      <line x1="75" y1="160" x2="80" y2="160" stroke="#666"/>
      <text x="70" y="164" text-anchor="end">1</text>
      
      <line x1="75" y1="130" x2="80" y2="130" stroke="#666"/>
      <text x="70" y="134" text-anchor="end">10</text>
      
      <line x1="75" y1="100" x2="80" y2="100" stroke="#666"/>
      <text x="70" y="104" text-anchor="end">100</text>
    </g>
    
    <!-- Convergence curve (exponential decay) -->
    <path d="M 80,100 
             L 100,110
             L 120,125
             L 140,140
             L 160,155
             L 180,170
             L 200,185
             L 220,195
             L 240,205
             L 260,210
             L 280,215
             L 300,217
             L 320,219" 
          stroke="#3498db" stroke-width="3" fill="none"/>
    
    <!-- Convergence threshold line -->
    <line x1="80" y1="215" x2="320" y2="215" stroke="#f39c12" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="250" y="212" font-size="10" fill="#f39c12">收敛阈值 (0.1%)</text>
    
    <!-- Data points -->
    <circle cx="80" cy="100" r="3" fill="#3498db"/>
    <circle cx="100" cy="110" r="3" fill="#3498db"/>
    <circle cx="140" cy="140" r="3" fill="#3498db"/>
    <circle cx="180" cy="170" r="3" fill="#3498db"/>
    <circle cx="220" cy="195" r="3" fill="#3498db"/>
    <circle cx="260" cy="210" r="3" fill="#3498db"/>
    <circle cx="300" cy="217" r="3" fill="#3498db"/>
    <circle cx="320" cy="219" r="3" fill="#3498db"/>
  </g>
  
  <!-- Algorithm steps annotation -->
  <rect x="50" y="280" width="700" height="180" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1" rx="5"/>
  <text x="400" y="310" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">
    Frank-Wolfe算法收敛特性
  </text>
  
  <text x="70" y="340" font-size="12" fill="#333">
    • 初始阶段：目标函数值快速下降，相对间隙大幅减小
  </text>
  <text x="70" y="360" font-size="12" fill="#333">
    • 中期阶段：收敛速度逐渐放缓，表现出亚线性收敛特性
  </text>
  <text x="70" y="380" font-size="12" fill="#333">
    • 后期阶段：收敛速度变慢，需要更多迭代达到高精度解
  </text>
  <text x="70" y="400" font-size="12" fill="#333">
    • 收敛率：O(1/k)，其中k是迭代次数
  </text>
  <text x="70" y="420" font-size="12" fill="#e74c3c">
    • 相对间隙公式：Gap = (Z(f^k) - Z*) / Z*，其中Z*是最优目标函数值
  </text>
  
  <!-- Legend -->
  <g transform="translate(50, 440)">
    <line x1="0" y1="0" x2="20" y2="0" stroke="#e74c3c" stroke-width="3"/>
    <text x="25" y="5" font-size="11" fill="#333">目标函数值</text>
    
    <line x1="150" y1="0" x2="170" y2="0" stroke="#3498db" stroke-width="3"/>
    <text x="175" y="5" font-size="11" fill="#333">相对间隙</text>
    
    <line x1="280" y1="0" x2="300" y2="0" stroke="#27ae60" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="305" y="5" font-size="11" fill="#333">最优值</text>
    
    <line x1="380" y1="0" x2="400" y2="0" stroke="#f39c12" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="405" y="5" font-size="11" fill="#333">收敛阈值</text>
  </g>
</svg>
