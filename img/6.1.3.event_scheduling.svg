<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="450" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- 背景 -->
  <rect width="600" height="450" fill="#f8f9fa"/>
  
  <!-- 标题 -->
  <text x="300" y="25" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">事件调度法流程图</text>
  
  <!-- 开始 -->
  <ellipse cx="300" cy="60" rx="40" ry="20" fill="#4CAF50" stroke="#333" stroke-width="2"/>
  <text x="300" y="65" font-family="Arial" font-size="12" text-anchor="middle" fill="white">开始</text>
  
  <!-- 初始化 -->
  <rect x="250" y="100" width="100" height="30" fill="#E3F2FD" stroke="#2196F3" stroke-width="2" rx="5"/>
  <text x="300" y="120" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">初始化事件列表</text>
  
  <!-- 判断事件列表是否为空 -->
  <polygon points="300,160 350,180 300,200 250,180" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
  <text x="300" y="185" font-family="Arial" font-size="11" text-anchor="middle" fill="#333">事件列表为空？</text>
  
  <!-- 取出下一事件 -->
  <rect x="450" y="165" width="100" height="30" fill="#E8F5E8" stroke="#4CAF50" stroke-width="2" rx="5"/>
  <text x="500" y="185" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">取出下一事件</text>
  
  <!-- 更新仿真时钟 -->
  <rect x="450" y="220" width="100" height="30" fill="#FCE4EC" stroke="#E91E63" stroke-width="2" rx="5"/>
  <text x="500" y="240" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">更新仿真时钟</text>
  
  <!-- 处理当前事件 -->
  <rect x="450" y="275" width="100" height="30" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2" rx="5"/>
  <text x="500" y="295" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">处理当前事件</text>
  
  <!-- 更新系统状态 -->
  <rect x="450" y="330" width="100" height="30" fill="#E0F2F1" stroke="#009688" stroke-width="2" rx="5"/>
  <text x="500" y="350" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">更新系统状态</text>
  
  <!-- 产生新事件 -->
  <rect x="250" y="330" width="100" height="30" fill="#FFEBEE" stroke="#F44336" stroke-width="2" rx="5"/>
  <text x="300" y="350" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">产生新事件</text>
  
  <!-- 结束 -->
  <ellipse cx="150" cy="180" rx="40" ry="20" fill="#FF5722" stroke="#333" stroke-width="2"/>
  <text x="150" y="185" font-family="Arial" font-size="12" text-anchor="middle" fill="white">结束</text>
  
  <!-- 箭头连接 -->
  <g stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)">
    <!-- 开始到初始化 -->
    <line x1="300" y1="80" x2="300" y2="95"/>
    
    <!-- 初始化到判断 -->
    <line x1="300" y1="130" x2="300" y2="155"/>
    
    <!-- 判断到结束(是) -->
    <line x1="250" y1="180" x2="195" y2="180"/>
    
    <!-- 判断到取出事件(否) -->
    <line x1="350" y1="180" x2="445" y2="180"/>
    
    <!-- 取出事件到更新时钟 -->
    <line x1="500" y1="195" x2="500" y2="215"/>
    
    <!-- 更新时钟到处理事件 -->
    <line x1="500" y1="250" x2="500" y2="270"/>
    
    <!-- 处理事件到更新状态 -->
    <line x1="500" y1="305" x2="500" y2="325"/>
    
    <!-- 更新状态到产生新事件 -->
    <line x1="450" y1="345" x2="355" y2="345"/>
    
    <!-- 产生新事件回到判断 -->
    <path d="M 300 330 L 300 300 L 200 300 L 200 180 L 245 180" stroke="#666" stroke-dasharray="5,5"/>
  </g>
  
  <!-- 标签 -->
  <text x="200" y="175" font-family="Arial" font-size="10" fill="#333">是</text>
  <text x="370" y="175" font-family="Arial" font-size="10" fill="#333">否</text>
  
  <!-- 事件列表示例 -->
  <rect x="50" y="250" width="140" height="120" fill="#f0f8ff" stroke="#4682b4" stroke-width="2" rx="5"/>
  <text x="120" y="270" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">事件列表</text>
  <text x="60" y="290" font-family="Arial" font-size="11" fill="#333">时间 | 事件类型</text>
  <line x1="60" y1="295" x2="180" y2="295" stroke="#666"/>
  <text x="60" y="310" font-family="Arial" font-size="10" fill="#333">2.5  | 车辆到达</text>
  <text x="60" y="325" font-family="Arial" font-size="10" fill="#333">3.2  | 开始服务</text>
  <text x="60" y="340" font-family="Arial" font-size="10" fill="#333">4.1  | 完成服务</text>
  <text x="60" y="355" font-family="Arial" font-size="10" fill="#333">5.0  | 车辆离开</text>
  
</svg>
