<?xml version="1.0" encoding="UTF-8"?>
<svg width="700" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- 背景 -->
  <rect width="700" height="500" fill="#f8f9fa"/>
  
  <!-- 标题 -->
  <text x="350" y="25" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">动态规划基本原理</text>
  
  <!-- 左侧：最优子结构 -->
  <g>
    <text x="180" y="60" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">最优子结构</text>
    
    <!-- 树形结构 -->
    <circle cx="180" cy="100" r="20" fill="#4CAF50" stroke="#333" stroke-width="2"/>
    <text x="180" y="107" font-family="Arial" font-size="12" text-anchor="middle" fill="white">P</text>
    
    <!-- 子问题 -->
    <circle cx="120" cy="160" r="15" fill="#2196F3" stroke="#333" stroke-width="2"/>
    <text x="120" y="166" font-family="Arial" font-size="10" text-anchor="middle" fill="white">P₁</text>
    
    <circle cx="240" cy="160" r="15" fill="#2196F3" stroke="#333" stroke-width="2"/>
    <text x="240" y="166" font-family="Arial" font-size="10" text-anchor="middle" fill="white">P₂</text>
    
    <!-- 更小的子问题 -->
    <circle cx="90" cy="220" r="12" fill="#FF9800" stroke="#333" stroke-width="2"/>
    <text x="90" y="226" font-family="Arial" font-size="9" text-anchor="middle" fill="white">P₁₁</text>
    
    <circle cx="150" cy="220" r="12" fill="#FF9800" stroke="#333" stroke-width="2"/>
    <text x="150" y="226" font-family="Arial" font-size="9" text-anchor="middle" fill="white">P₁₂</text>
    
    <circle cx="210" cy="220" r="12" fill="#FF9800" stroke="#333" stroke-width="2"/>
    <text x="210" y="226" font-family="Arial" font-size="9" text-anchor="middle" fill="white">P₂₁</text>
    
    <circle cx="270" cy="220" r="12" fill="#FF9800" stroke="#333" stroke-width="2"/>
    <text x="270" y="226" font-family="Arial" font-size="9" text-anchor="middle" fill="white">P₂₂</text>
    
    <!-- 连接线 -->
    <g stroke="#333" stroke-width="2" fill="none">
      <line x1="160" y1="115" x2="135" y2="145"/>
      <line x1="200" y1="115" x2="225" y2="145"/>
      <line x1="105" y1="170" x2="97" y2="208"/>
      <line x1="135" y1="170" x2="143" y2="208"/>
      <line x1="225" y1="170" x2="217" y2="208"/>
      <line x1="255" y1="170" x2="263" y2="208"/>
    </g>
    
    <!-- 说明文字 -->
    <text x="180" y="260" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">问题的最优解包含子问题的最优解</text>
  </g>
  
  <!-- 右侧：重叠子问题 -->
  <g>
    <text x="520" y="60" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">重叠子问题</text>
    
    <!-- 重复计算的示例 -->
    <rect x="460" y="80" width="120" height="40" fill="#FFEBEE" stroke="#F44336" stroke-width="2" rx="5"/>
    <text x="520" y="105" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">F(n) = F(n-1) + F(n-2)</text>
    
    <!-- 展开的计算树 -->
    <circle cx="520" cy="150" r="15" fill="#F44336" stroke="#333" stroke-width="2"/>
    <text x="520" y="156" font-family="Arial" font-size="10" text-anchor="middle" fill="white">F(5)</text>
    
    <circle cx="470" cy="200" r="12" fill="#FF9800" stroke="#333" stroke-width="2"/>
    <text x="470" y="206" font-family="Arial" font-size="9" text-anchor="middle" fill="white">F(4)</text>
    
    <circle cx="570" cy="200" r="12" fill="#FF9800" stroke="#333" stroke-width="2"/>
    <text x="570" y="206" font-family="Arial" font-size="9" text-anchor="middle" fill="white">F(3)</text>
    
    <circle cx="440" cy="250" r="10" fill="#4CAF50" stroke="#333" stroke-width="2"/>
    <text x="440" y="255" font-family="Arial" font-size="8" text-anchor="middle" fill="white">F(3)</text>
    
    <circle cx="500" cy="250" r="10" fill="#4CAF50" stroke="#333" stroke-width="2"/>
    <text x="500" y="255" font-family="Arial" font-size="8" text-anchor="middle" fill="white">F(2)</text>
    
    <circle cx="540" cy="250" r="10" fill="#4CAF50" stroke="#333" stroke-width="2"/>
    <text x="540" y="255" font-family="Arial" font-size="8" text-anchor="middle" fill="white">F(2)</text>
    
    <circle cx="600" cy="250" r="10" fill="#4CAF50" stroke="#333" stroke-width="2"/>
    <text x="600" y="255" font-family="Arial" font-size="8" text-anchor="middle" fill="white">F(1)</text>
    
    <!-- 连接线 -->
    <g stroke="#333" stroke-width="1.5" fill="none">
      <line x1="505" y1="160" x2="480" y2="188"/>
      <line x1="535" y1="160" x2="560" y2="188"/>
      <line x1="460" y1="210" x2="447" y2="240"/>
      <line x1="480" y1="210" x2="493" y2="240"/>
      <line x1="560" y1="210" x2="547" y2="240"/>
      <line x1="580" y1="210" x2="593" y2="240"/>
    </g>
    
    <!-- 重复标记 -->
    <ellipse cx="470" cy="275" rx="30" ry="15" fill="none" stroke="#F44336" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="470" y="280" font-family="Arial" font-size="10" text-anchor="middle" fill="#F44336">重复</text>
    
    <ellipse cx="520" cy="275" rx="30" ry="15" fill="none" stroke="#F44336" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="520" y="280" font-family="Arial" font-size="10" text-anchor="middle" fill="#F44336">重复</text>
    
    <!-- 说明文字 -->
    <text x="520" y="310" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">相同子问题被重复计算多次</text>
  </g>
  
  <!-- 底部：动态规划解决方案 -->
  <rect x="50" y="350" width="600" height="120" fill="#e8f4fd" stroke="#1976d2" stroke-width="2" rx="10"/>
  <text x="350" y="375" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">动态规划解决方案</text>
  
  <!-- 记忆化 -->
  <rect x="80" y="390" width="100" height="30" fill="#4CAF50" stroke="#333" rx="5"/>
  <text x="130" y="410" font-family="Arial" font-size="12" text-anchor="middle" fill="white">记忆化存储</text>
  
  <!-- 箭头 -->
  <polygon points="190,405 205,400 205,410" fill="#333"/>
  <line x1="180" y1="405" x2="200" y2="405" stroke="#333" stroke-width="2"/>
  
  <!-- 自底向上 -->
  <rect x="210" y="390" width="100" height="30" fill="#2196F3" stroke="#333" rx="5"/>
  <text x="260" y="410" font-family="Arial" font-size="12" text-anchor="middle" fill="white">自底向上构建</text>
  
  <!-- 箭头 -->
  <polygon points="320,405 335,400 335,410" fill="#333"/>
  <line x1="310" y1="405" x2="330" y2="405" stroke="#333" stroke-width="2"/>
  
  <!-- 最优解 -->
  <rect x="340" y="390" width="100" height="30" fill="#FF9800" stroke="#333" rx="5"/>
  <text x="390" y="410" font-family="Arial" font-size="12" text-anchor="middle" fill="white">获得最优解</text>
  
  <!-- 箭头 -->
  <polygon points="450,405 465,400 465,410" fill="#333"/>
  <line x1="440" y1="405" x2="460" y2="405" stroke="#333" stroke-width="2"/>
  
  <!-- 时间复杂度 -->
  <rect x="470" y="390" width="100" height="30" fill="#9C27B0" stroke="#333" rx="5"/>
  <text x="520" y="410" font-family="Arial" font-size="12" text-anchor="middle" fill="white">O(n) 时间复杂度</text>
  
  <text x="350" y="450" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">通过存储已计算的子问题结果，避免重复计算，实现高效求解</text>
  
</svg>
