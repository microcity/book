<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="450" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: 'SimHei', Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: 'SimHei', Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #34495e; }
      .label { font-family: 'SimHei', Arial, sans-serif; font-size: 12px; fill: #34495e; }
      .small-label { font-family: 'SimHei', Arial, sans-serif; font-size: 10px; fill: #7f8c8d; }
      .formula { font-family: 'Times New Roman', serif; font-size: 11px; fill: #2c3e50; }
      .grid-cell { stroke: #2c3e50; stroke-width: 1; }
      .start-cell { fill: #2ecc71; }
      .goal-cell { fill: #e74c3c; }
      .obstacle-cell { fill: #34495e; }
      .normal-cell { fill: #ecf0f1; }
      .path-cell { fill: #f39c12; opacity: 0.7; }
      .value-text { font-family: Arial, sans-serif; font-size: 9px; fill: #2c3e50; text-anchor: middle; }
      .q-text { font-family: Arial, sans-serif; font-size: 8px; fill: #c0392b; }
      .arrow { stroke: #2c3e50; stroke-width: 2; marker-end: url(#arrowhead); }
      .reward-text { font-family: Arial, sans-serif; font-size: 9px; fill: #e74c3c; }
      .grid-line { stroke: #ecf0f1; stroke-width: 1; }
      .axis-line { stroke: #2c3e50; stroke-width: 2; }
      .learning-curve { stroke: #3498db; stroke-width: 2; fill: none; }
    </style>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#2c3e50"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="300" y="25" class="title" text-anchor="middle">强化学习在网格世界中的应用</text>
  
  <!-- Grid World with Q-values -->
  <g transform="translate(50, 50)">
    <text x="70" y="0" class="subtitle" text-anchor="middle">Q值学习过程</text>
    
    <!-- 5x5 Grid -->
    <g id="grid">
      <!-- Row 0 -->
      <rect x="0" y="20" width="28" height="28" class="grid-cell start-cell"/>
      <text x="14" y="30" class="value-text">S</text>
      <text x="5" y="42" class="q-text">↑-2.1</text>
      <text x="20" y="42" class="q-text">→-1.8</text>
      
      <rect x="28" y="20" width="28" height="28" class="grid-cell normal-cell"/>
      <text x="7" y="37" class="q-text">←-2.0</text>
      <text x="22" y="37" class="q-text">→-1.5</text>
      
      <rect x="56" y="20" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="84" y="20" width="28" height="28" class="grid-cell obstacle-cell"/>
      <text x="98" y="37" class="value-text" style="fill: white;">×</text>
      
      <rect x="112" y="20" width="28" height="28" class="grid-cell normal-cell"/>
      
      <!-- Row 1 -->
      <rect x="0" y="48" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="28" y="48" width="28" height="28" class="grid-cell path-cell"/>
      <text x="42" y="58" class="value-text">-1.2</text>
      <text x="33" y="70" class="q-text">↑-1.5 →-1.0</text>
      
      <rect x="56" y="48" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="84" y="48" width="28" height="28" class="grid-cell obstacle-cell"/>
      <text x="98" y="65" class="value-text" style="fill: white;">×</text>
      
      <rect x="112" y="48" width="28" height="28" class="grid-cell normal-cell"/>
      
      <!-- Row 2 -->
      <rect x="0" y="76" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="28" y="76" width="28" height="28" class="grid-cell path-cell"/>
      <text x="42" y="86" class="value-text">-0.8</text>
      
      <rect x="56" y="76" width="28" height="28" class="grid-cell path-cell"/>
      <text x="70" y="86" class="value-text">-0.5</text>
      
      <rect x="84" y="76" width="28" height="28" class="grid-cell path-cell"/>
      <text x="98" y="86" class="value-text">-0.3</text>
      
      <rect x="112" y="76" width="28" height="28" class="grid-cell normal-cell"/>
      
      <!-- Row 3 -->
      <rect x="0" y="104" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="28" y="104" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="56" y="104" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="84" y="104" width="28" height="28" class="grid-cell path-cell"/>
      <text x="98" y="114" class="value-text">-0.1</text>
      
      <rect x="112" y="104" width="28" height="28" class="grid-cell normal-cell"/>
      
      <!-- Row 4 -->
      <rect x="0" y="132" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="28" y="132" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="56" y="132" width="28" height="28" class="grid-cell normal-cell"/>
      <rect x="84" y="132" width="28" height="28" class="grid-cell path-cell"/>
      <text x="98" y="142" class="value-text">0</text>
      
      <rect x="112" y="132" width="28" height="28" class="grid-cell goal-cell"/>
      <text x="126" y="149" class="value-text">G</text>
    </g>
    
    <!-- Legend -->
    <g transform="translate(160, 30)">
      <rect x="0" y="0" width="15" height="15" class="start-cell grid-cell"/>
      <text x="20" y="12" class="small-label">起点</text>
      
      <rect x="0" y="20" width="15" height="15" class="goal-cell grid-cell"/>
      <text x="20" y="32" class="small-label">终点</text>
      
      <rect x="0" y="40" width="15" height="15" class="obstacle-cell grid-cell"/>
      <text x="20" y="52" class="small-label">障碍</text>
      
      <rect x="0" y="60" width="15" height="15" class="path-cell grid-cell"/>
      <text x="20" y="72" class="small-label">学习路径</text>
      
      <text x="0" y="95" class="small-label">Q值显示格式：</text>
      <text x="0" y="110" class="small-label">方向-数值</text>
    </g>
  </g>
  
  <!-- Learning Progress -->
  <g transform="translate(320, 50)">
    <text x="120" y="0" class="subtitle" text-anchor="middle">Q学习收敛过程</text>
    
    <!-- Coordinate system -->
    <g transform="translate(20, 20)">
      <!-- Axes -->
      <path d="M 0 120 L 0 0" class="axis-line"/>
      <path d="M 0 120 L 200 120" class="axis-line"/>
      
      <!-- Grid -->
      <g class="grid-line">
        <path d="M 0 100 L 200 100"/>
        <path d="M 0 80 L 200 80"/>
        <path d="M 0 60 L 200 60"/>
        <path d="M 0 40 L 200 40"/>
        <path d="M 0 20 L 200 20"/>
        
        <path d="M 50 0 L 50 120"/>
        <path d="M 100 0 L 100 120"/>
        <path d="M 150 0 L 150 120"/>
        <path d="M 200 0 L 200 120"/>
      </g>
      
      <!-- Learning curve -->
      <path d="M 0 115 Q 25 100, 50 85 Q 75 70, 100 55 Q 125 45, 150 35 Q 175 30, 200 25" class="learning-curve"/>
      
      <!-- Labels -->
      <text x="-5" y="5" class="small-label" text-anchor="end">0</text>
      <text x="-5" y="25" class="small-label" text-anchor="end">-2</text>
      <text x="-5" y="45" class="small-label" text-anchor="end">-4</text>
      <text x="-5" y="65" class="small-label" text-anchor="end">-6</text>
      <text x="-5" y="85" class="small-label" text-anchor="end">-8</text>
      <text x="-5" y="105" class="small-label" text-anchor="end">-10</text>
      <text x="-5" y="125" class="small-label" text-anchor="end">-12</text>
      
      <text x="50" y="135" class="small-label" text-anchor="middle">1000</text>
      <text x="100" y="135" class="small-label" text-anchor="middle">2000</text>
      <text x="150" y="135" class="small-label" text-anchor="middle">3000</text>
      <text x="200" y="135" class="small-label" text-anchor="middle">4000</text>
      
      <text x="100" y="150" class="small-label" text-anchor="middle">训练回合数</text>
      <text x="-15" y="60" class="small-label" text-anchor="middle" transform="rotate(-90, -15, 60)">平均回报</text>
    </g>
  </g>
  
  <!-- Algorithm Comparison -->
  <g transform="translate(50, 280)">
    <text x="250" y="0" class="subtitle" text-anchor="middle">强化学习算法比较</text>
    
    <g transform="translate(0, 25)">
      <!-- Table header -->
      <rect x="0" y="0" width="500" height="25" style="fill: #34495e;"/>
      <text x="60" y="15" class="label" style="fill: white;" text-anchor="middle">算法</text>
      <text x="150" y="15" class="label" style="fill: white;" text-anchor="middle">学习方式</text>
      <text x="250" y="15" class="label" style="fill: white;" text-anchor="middle">收敛速度</text>
      <text x="350" y="15" class="label" style="fill: white;" text-anchor="middle">样本效率</text>
      <text x="450" y="15" class="label" style="fill: white;" text-anchor="middle">适用场景</text>
      
      <!-- Table rows -->
      <rect x="0" y="25" width="500" height="20" style="fill: #ecf0f1;"/>
      <text x="60" y="37" class="small-label" text-anchor="middle">Q-Learning</text>
      <text x="150" y="37" class="small-label" text-anchor="middle">离策略</text>
      <text x="250" y="37" class="small-label" text-anchor="middle">中等</text>
      <text x="350" y="37" class="small-label" text-anchor="middle">高</text>
      <text x="450" y="37" class="small-label" text-anchor="middle">离散动作</text>
      
      <rect x="0" y="45" width="500" height="20" style="fill: #f8f9fa;"/>
      <text x="60" y="57" class="small-label" text-anchor="middle">SARSA</text>
      <text x="150" y="57" class="small-label" text-anchor="middle">在策略</text>
      <text x="250" y="57" class="small-label" text-anchor="middle">慢</text>
      <text x="350" y="57" class="small-label" text-anchor="middle">中等</text>
      <text x="450" y="57" class="small-label" text-anchor="middle">安全探索</text>
      
      <rect x="0" y="65" width="500" height="20" style="fill: #ecf0f1;"/>
      <text x="60" y="77" class="small-label" text-anchor="middle">Actor-Critic</text>
      <text x="150" y="77" class="small-label" text-anchor="middle">在策略</text>
      <text x="250" y="77" class="small-label" text-anchor="middle">快</text>
      <text x="350" y="77" class="small-label" text-anchor="middle">高</text>
      <text x="450" y="77" class="small-label" text-anchor="middle">连续控制</text>
      
      <rect x="0" y="85" width="500" height="20" style="fill: #f8f9fa;"/>
      <text x="60" y="97" class="small-label" text-anchor="middle">DQN</text>
      <text x="150" y="97" class="small-label" text-anchor="middle">离策略</text>
      <text x="250" y="97" class="small-label" text-anchor="middle">快</text>
      <text x="350" y="97" class="small-label" text-anchor="middle">很高</text>
      <text x="450" y="97" class="small-label" text-anchor="middle">高维状态</text>
    </g>
  </g>
</svg>
